<div class="map-container">
	<agm-map #gm class="map" [zoom]='zoom' [latitude]='latitude' [longitude]='longitude' [styles]="mapStyle">
		<ng-template [ngIf]="markers">
			<!--<agm-marker *ngFor="let partner of list; let i = index"
				[latitude]="partner.lat"
				[longitude]="partner.long"
				[markerDraggable]="partner.draggable"
			>
				<agm-info-window>
					<div class="info-container">
						<img src={{partner.img}}>
						<div>
							<a [routerLink]="['/partner', partner.id]">
								<strong>{{partner.name}}</strong>
								<br>
								<p>{{partner.address}}</p>
							</a>
						</div>
					</div>
				</agm-info-window>
			</agm-marker>-->
			<agm-marker *ngFor="let m of markers; let i = index" [latitude]="m.lat" [longitude]="m.lng" [iconUrl]="pin"
				[markerDraggable]="m.draggable" (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow">

				<agm-info-window  #infoWindow>
					<div class="info-container">
						<img src={{m.img}}>
						<div>
							<a [routerLink]="['/partner/', m.slug]">
								<div class="partner-name">
									<strong>{{m.name}}</strong>
								</div>
								<div>{{m.address}}</div>
							</a>
						</div>
					</div>
				</agm-info-window>
			</agm-marker>
		</ng-template>
	</agm-map>
</div>
